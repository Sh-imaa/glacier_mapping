BootStrap: docker
From: ubuntu:18.04

# To run in this shell pointing to data at some path, you can execute
# singularity shell -B /path/to/data glaciers.sif
#
# This recipe can be built on any machine where you are root, the command
# sudo singularity build glacier.sif glacier.def

%environment
  export CHECK_DISK_FREE_SPACE=FALSE

%post
    apt -y update
    apt -y upgrade
    apt -y install software-properties-common
    add-apt-repository ppa:ubuntugis/ppa
    apt -y update
    apt -y install build-essential
    apt -y install python3-pip python3-dev
    apt -y install gdal-bin python3-gdal

    apt -y install nano vim
    pip3 install numpy
    pip3 install opencv-python joblib tensorboard
    pip3 install pandas addict pyyaml rasterio geopandas
    pip3 install scikit-learn rpyc tensorflow Rtree mercantile utm beaker cheroot gdal
    pip3 install --no-cache-dir torch torchvision matplotlib ipython seaborn
